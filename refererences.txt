[파일 및 라인 처리 관련 명령어]

wc -l
파일의 전체 라인 수를 확인할 때 사용한다.


grep -vE '^[[:space:]]*#'
주석 처리된 라인을 제외하고 실제 설정만 추출할 때 사용한다.


grep -iE '^[[:space:]]*PermitRootLogin'
주석을 제외한 상태에서 특정 설정 항목만 검색할 때 사용한다.
대소문자 차이를 고려하기 위해 -i 옵션을 사용한다.

[산술 연산 및 카운터 처리]

(( )) 구문
쉘 스크립트에서 C 언어와 유사한 방식으로 산술 연산이 가능하다.

((vul++)), ((vulc+=1))
취약 항목, 검토 항목 개수를 카운트할 때 사용한다.

[배열 및 반복문 처리]

for i in "${!array[@]}"
배열의 값이 아닌 인덱스를 기준으로 순회할 때 사용한다.


[파일을 한 줄씩 읽어 처리하는 방식]

while IFS=':' read -r user pw uid gid rest
/etc/passwd, /etc/group 등 구분자가 명확한 파일을
한 줄씩 읽으면서 필드를 분리할 때 사용한다.


[awk 조건 처리 예시]

awk -F : '$7=="/bin/bash"{print $1}' /etc/passwd
로그인 쉘이 /bin/bash로 설정된 계정을 추출할 때 사용한다.

[조건 테스트 문법 정리 ([ ])]

참인 경우:

-z : 문자열이 비어 있을 때

-n : 문자열이 존재할 때

-f : 파일이 존재할 때

-d : 디렉터리가 존재할 때

-e : 파일 또는 디렉터리가 존재할 때

-r : 파일이 읽기 가능할 때

-w : 파일이 쓰기 가능할 때

-x : 파일이 실행 가능할 때

-O : 실행 사용자가 소유자일 때

-G : 실행 사용자의 그룹 소유일 때

-u : SUID 비트가 설정되어 있을 때

-g : SGID 비트가 설정되어 있을 때

-k : Sticky Bit가 설정되어 있을 때

-s : 파일 크기가 0보다 클 때

거짓 조건:

! -조건

[grep 관련 옵션]

grep -q
검색 결과를 출력하지 않고 성공 여부만 판단할 때 사용한다.

[출력 개수 제한]

head -n 1
여러 결과 중 하나만 필요할 때 사용한다.
설정 파일 후보가 여러 개인 경우 첫 번째 결과만 선택한다.

[명령어 논리 실행]

command1 && command2
command1이 성공한 경우에만 command2를 실행한다.
점검 조건이 충족될 때만 후속 로직을 수행하기 위해 사용한다.